\documentclass[10pt, conference]{IEEEtran}

\usepackage{subimages}
\setfigdir{figs}

\usepackage[cmex10]{amsmath}
\interdisplaylinepenalty=2500
\usepackage{amsthm}
\newtheorem{definition}{Definition}
\usepackage{hyperref}

\hyphenation{op-tical net-works semi-conduc-tor}

\begin{document}

\title{heatmap construction using background subtraction}

%------------------------------------------------------------------------- 
% change the % on next lines to produce the final camera-ready version 
\newif\iffinal
%\finalfalse
\finaltrue
\newcommand{\jemsid}{99999}
%------------------------------------------------------------------------- 
\iffinal
	\author{%
    \IEEEauthorblockN{Nicolas A. Maduro}
	    \IEEEauthorblockA{%
			Laboratory for Interdisciplinary Research on Multimedia Information\\
			CEFET-MG\\
			Belo Horizonte, Brazil\\
		}\and
	    \IEEEauthorblockN{Thales B. Nascimento}
	    \IEEEauthorblockA{%
	    	CEFET-MG\\
	    	Belo Horizonte, Brazil\\
	   	}
	}
\else
  \author{Sibgrapi paper ID: \jemsid \\ }
\fi

\maketitle

\begin{abstract}
\end{abstract}

\begin{IEEEkeywords}
Heatmap; Background subtraction;

\end{IEEEkeywords}


\IEEEpeerreviewmaketitle


\section{Introduction}
As análises de comportamento de clientes em lojas possuem grande valor para varejistas, empresas e organizações, já que podem ser utilizadas para aperfeiçoar suas estratégias de marketing, e ajudar os clientes nas tomadas de decisões. Algumas das análises realizadas por técnicas computacionais atualmente são feitas por meio de tecnologias que impõe algumas limitações, exigindo dispositivos acoplados ao cliente ou até mesmo identificações previamente definidas nos produtos de uma loja. Do mesmo modo, as ferramentas tecnológicas existentes ainda são pouco acessíveis, sendo compostas de soluções comerciais que exigem um investimento alto e consequentemente pouco exploradas.
Este trabalho implementa um sistema baseado em visão computacional capaz de detectar clientes em lojas a fim de criar um mapa de calor para apoiar as análises de comportamento de clientes. In order to build the heatmap, we segmented the image using background subtraction, and used morphological transformations to remove noise and correct small failures on the objects.

\subsection{Related work}
O trabalho de Padua~\cite{padua2014sistema} desenvolve um sistema baseado em visão computacional para apoiar as análises tática e física no futsal. Em seu sistema foram utizadas as técnicas de subtração de fundo baseado em misturas gaussianas descritas em \cite{zivkovic2004improved} e operações morfológicas sobre imagens como descrito em \cite{haralick1987image}.

\section{Fundamentals}
\subsection{Important concept}
\begin{definition}[Image binarization]
	Binarization is the conversion of a gray scale image to a two values image. There are many binarization formulas, we used the following:
	\[
		output(x,y) =
	\begin{cases}
		G_{max} & \text{if } input(x,y) > \text{threshold}\\
		0 & \text{otherwise}
	\end{cases}.
	\]
\end{definition}
\begin{definition}[Gaussian filter]
	The Gaussian Filter is a 2D convolution with a kernel defined by samples of the 2D Gauss function. This function is defined as follows:
			$$ G_{\sigma,\mu_{x},\mu_{y}}(x,y)=\frac{1}{2\pi\sigma^{2}}
			e^{\frac{(x-\mu_{x})^{2}}{2\sigma^{2}}}
			e^{\frac{(y-\mu_{y})^{2}}{2\sigma^{2}}}.$$
	
\end{definition}
\begin{definition}[Dilation]
	Dilation is the morphological transformation which combines two sets using vector addition of set elements. Let A and B be subsets of image carrier $\Omega$. The dilation is defined as: $$A \oplus B=\{c\in\Omega|c=a+b \text{ for some }a\in A\text{  and }b \in B\}.$$
\end{definition}

\begin{definition}[Erosion]
Erosion is the morphological dual to dilation.Let A and B be subsets of image carrier $\Omega$. The erosion is defined as: $$A \ominus B=\{x\in\Omega | x+b \in A \text{ for every }b\in B.$$
\end{definition}

\begin{definition}[Opening]
The opening of image $B$ by structuring	element $K$ is denoted by $B \circ K$ and is defined as: $$B \circ K =(B \ominus K) \oplus K.$$
\end{definition}

\begin{definition}[Closing]
The closing of image $B$ by structuring	element $K$ is denoted by $B \circ K$ and is defined as: $$B \circ K =(B \oplus K) \ominus K.$$
\end{definition}

\section{Methodology}

\section{Experimental results}
%descrever o experimento, falar que fizemos uma deteccao manual

\section{Concluding Remarks}

\section*{Acknowledgment}
The authors would like to thank Flavio Cardeal for his course and support on this work.

% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

\bibliographystyle{IEEEtran}
\bibliography{example}

\end{document}
